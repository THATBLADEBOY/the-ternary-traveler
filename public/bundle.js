(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _interestCollection = _interopRequireDefault(require("./interestCollection"));

var _interestList = _interopRequireDefault(require("./interestList"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const nameInput = document.createElement("input");
const descriptionInput = document.createElement("input");
const costInput = document.createElement("input");
const placeSelection = document.createElement("select");
const output_art = document.querySelector(".form-output");
const formBuilder = {
  buildForm() {
    output_art.setAttribute("class", "container");
    const formArticle = document.createElement("article");
    formArticle.setAttribute("class", "form-container");
    output_art.appendChild(formArticle);
    const formHeader = document.createElement("h2");
    formHeader.textContent = "Create a New Interest";
    formArticle.appendChild(formHeader);
    nameInput.placeholder = "Name";
    nameInput.setAttribute("class", "form-control");
    formArticle.appendChild(nameInput);
    descriptionInput.placeholder = "Description";
    descriptionInput.setAttribute("class", "form-control");
    formArticle.appendChild(descriptionInput);
    const costPlaceAddArticle = document.createElement("article");
    formArticle.appendChild(costPlaceAddArticle);
    costPlaceAddArticle.setAttribute("class", "cost-place-add");
    costInput.placeholder = "Cost";
    costInput.setAttribute("class", "form-control");
    costPlaceAddArticle.appendChild(costInput);

    _interestCollection.default.getAllPlaces().then(place => {
      const londonOption = document.createElement("option");
      londonOption.textContent = "London";
      londonOption.setAttribute("value", `${place[0].name}`);
      const parisOption = document.createElement("option");
      parisOption.textContent = "Paris";
      parisOption.setAttribute("value", `${place[1].name}`);
      const berlinOption = document.createElement("option");
      berlinOption.textContent = "Berlin";
      berlinOption.setAttribute("value", `${place[2].name}`);
      placeSelection.appendChild(londonOption);
      placeSelection.appendChild(parisOption);
      placeSelection.appendChild(berlinOption);
      costPlaceAddArticle.appendChild(placeSelection);
      const addInterestButton = document.createElement("button");
      addInterestButton.textContent = "Add";
      addInterestButton.setAttribute("class", "btn btn-primary");
      costPlaceAddArticle.appendChild(addInterestButton);
      addInterestButton.addEventListener("click", this.addButtonFunction);
    });
  },

  addButtonFunction() {
    let interestObj = {
      place: placeSelection.value,
      name: nameInput.value,
      description: descriptionInput.value,
      cost: costInput.value,
      review: ""
    };

    _interestCollection.default.postNewInterest(interestObj).then(response => {
      _interestList.default.listInterests();
    });

    nameInput.value = "";
    descriptionInput.value = "";
    costInput.value = "";
  }

};
var _default = formBuilder;
exports.default = _default;

},{"./interestCollection":3,"./interestList":5}],2:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _interestCollection = _interopRequireDefault(require("./interestCollection"));

var _interestList = _interopRequireDefault(require("./interestList"));

var _interestEditForm = _interopRequireDefault(require("./interestEditForm"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const interest = {
  makeInterestHTML(interestObj) {
    const interestListOutput = document.createElement("article");
    interestListOutput.setAttribute("id", `interest--${interestObj.id}`);
    interestListOutput.setAttribute("class", "container");
    interestListOutput.setAttribute("class", "interest-container");
    const placeHeader = document.createElement("h3");
    placeHeader.textContent = `${interestObj.place}`;
    interestListOutput.appendChild(placeHeader);
    const nameHeader = document.createElement("h4");
    nameHeader.textContent = `${interestObj.name}`;
    interestListOutput.appendChild(nameHeader);
    const descriptionParagraph = document.createElement("p");
    descriptionParagraph.textContent = `${interestObj.description}`;
    interestListOutput.appendChild(descriptionParagraph);
    const costHeader = document.createElement("section");
    costHeader.textContent = "Cost:";
    costHeader.setAttribute("class", "cost-header");
    interestListOutput.appendChild(costHeader);
    const costParagraph = document.createElement("p");
    costParagraph.textContent = `${interestObj.cost}`;
    interestListOutput.appendChild(costParagraph);
    const reviewHeader = document.createElement("section");
    reviewHeader.textContent = "Review:";
    reviewHeader.setAttribute("class", "review-header");
    interestListOutput.appendChild(reviewHeader);
    const reviewParagraph = document.createElement("p");
    reviewParagraph.textContent = `${interestObj.review}`;
    interestListOutput.appendChild(reviewParagraph);
    const editButton = document.createElement("button");
    editButton.textContent = "Edit Cost - Add Review";
    interestListOutput.appendChild(editButton);
    editButton.setAttribute("id", `interest--${interestObj.id}`);
    editButton.setAttribute("class", "btn btn-primary");
    editButton.addEventListener("click", () => {
      let articleId = event.target.parentNode.id;
      let interestId = event.target.id.split("--")[1];
      console.log(interestId);

      _interestCollection.default.getInterest(interestId).then(response => {
        _interestEditForm.default.createAndAppendForm(articleId, response);
      });
    });
    const deleteButton = document.createElement("button");
    deleteButton.textContent = "Delete";
    interestListOutput.appendChild(deleteButton);
    deleteButton.setAttribute("id", `interest--${interestObj.id}`);
    deleteButton.setAttribute("class", "btn btn-primary");
    deleteButton.addEventListener("click", () => {
      let deleteConfirmation = confirm(`Are you sure you want to delete ${interestObj.name} in ${interestObj.place} ?`);

      if (deleteConfirmation == true) {
        let interestId = event.target.id.split("--")[1];
        console.log(interestId);

        _interestCollection.default.deleteInterest(interestId).then(response => {
          _interestList.default.listInterests();
        });
      }
    });
    return interestListOutput;
  }

};
var _default = interest;
exports.default = _default;

},{"./interestCollection":3,"./interestEditForm":4,"./interestList":5}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
const interestCollection = {
  getAllInterests() {
    return fetch("http://localhost:8088/interests").then(response => response.json());
  },

  getAllPlaces() {
    return fetch("http://localhost:8088/places").then(response => response.json());
  },

  postNewInterest(newInterestToSave) {
    return fetch("http://localhost:8088/interests", {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify(newInterestToSave)
    });
  },

  deleteInterest(interestId) {
    return fetch(`http://localhost:8088/interests/${interestId}`, {
      method: "DELETE",
      headers: {
        "Content-Type": "application/json"
      }
    });
  },

  putExistingInterest(interestId, interestToEdit) {
    return fetch(`http://localhost:8088/interests/${interestId}`, {
      method: "PUT",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify(interestToEdit)
    });
  },

  getInterest(interestId) {
    return fetch(`http://localhost:8088/interests/${interestId}`).then(response => response.json());
  }

};
var _default = interestCollection;
exports.default = _default;

},{}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _interestCollection = _interopRequireDefault(require("./interestCollection"));

var _interestList = _interopRequireDefault(require("./interestList"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const interestEditForm = {
  createAndAppendForm(interestId, interestObjToEdit) {
    let interestCostField = document.createElement("p");
    let costLabel = document.createElement("label");
    costLabel.textContent = "Cost";
    let costInput = document.createElement("input");
    costInput.value = interestObjToEdit.cost;
    interestCostField.appendChild(costLabel);
    interestCostField.appendChild(costInput);
    let interestReviewField = document.createElement("p");
    let reviewLabel = document.createElement("label");
    reviewLabel.textContent = "Review";
    let reviewInput = document.createElement("input");
    reviewInput.value = interestObjToEdit.review;
    interestReviewField.appendChild(reviewLabel);
    interestReviewField.appendChild(reviewInput);
    let updateButton = document.createElement("button");
    updateButton.setAttribute("class", "btn btn-primary");
    updateButton.textContent = "Update";
    updateButton.addEventListener("click", () => {
      let edittedInterest = {
        place: interestObjToEdit.place,
        name: interestObjToEdit.name,
        description: interestObjToEdit.description,
        cost: costInput.value,
        review: reviewInput.value
      };
      console.log(edittedInterest);

      _interestCollection.default.putExistingInterest(interestObjToEdit.id, edittedInterest).then(response => {
        _interestList.default.listInterests();
      });
    });
    let interestItemArticle = document.getElementById(`${interestId}`); //  THIS FUNCTION WOULD CLEAR THE DOM OF THE EXISTING INTEREST WHILE EDITTING...I THINK IT IS BETTER TO VIEW EXISTING INTEREST WHILE EDITING
    // while (interestItemArticle.firstChild) {
    //   interestItemArticle.removeChild(interestItemArticle.firstChild);
    // }

    interestItemArticle.appendChild(interestCostField);
    interestItemArticle.appendChild(interestReviewField);
    interestItemArticle.appendChild(updateButton);
  }

};
var _default = interestEditForm;
exports.default = _default;

},{"./interestCollection":3,"./interestList":5}],5:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _interestCollection = _interopRequireDefault(require("./interestCollection"));

var _interest = _interopRequireDefault(require("./interest"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const interestList = {
  listInterests() {
    _interestCollection.default.getAllInterests().then(allInterests => {
      const interestDocFragment = document.createElement("div");
      allInterests.forEach(interestInstance => {
        console.log(interestInstance);

        const interestHtml = _interest.default.makeInterestHTML(interestInstance);

        interestDocFragment.appendChild(interestHtml);
      });
      const outputArticle = document.querySelector(".output");

      while (outputArticle.firstChild) {
        outputArticle.removeChild(outputArticle.firstChild);
      }

      outputArticle.appendChild(interestDocFragment);
    });
  }

};
var _default = interestList;
exports.default = _default;

},{"./interest":2,"./interestCollection":3}],6:[function(require,module,exports){
"use strict";

var _formBuilder = _interopRequireDefault(require("./formBuilder"));

var _interestList = _interopRequireDefault(require("./interestList"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

_formBuilder.default.buildForm();

_interestList.default.listInterests();

},{"./formBuilder":1,"./interestList":5}]},{},[6])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIuLi9zY3JpcHRzL2Zvcm1CdWlsZGVyLmpzIiwiLi4vc2NyaXB0cy9pbnRlcmVzdC5qcyIsIi4uL3NjcmlwdHMvaW50ZXJlc3RDb2xsZWN0aW9uLmpzIiwiLi4vc2NyaXB0cy9pbnRlcmVzdEVkaXRGb3JtLmpzIiwiLi4vc2NyaXB0cy9pbnRlcmVzdExpc3QuanMiLCIuLi9zY3JpcHRzL21haW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7O0FDQUE7O0FBQ0E7Ozs7QUFFQSxNQUFNLFNBQVMsR0FBRyxRQUFRLENBQUMsYUFBVCxDQUF1QixPQUF2QixDQUFsQjtBQUNBLE1BQU0sZ0JBQWdCLEdBQUcsUUFBUSxDQUFDLGFBQVQsQ0FBdUIsT0FBdkIsQ0FBekI7QUFDQSxNQUFNLFNBQVMsR0FBRyxRQUFRLENBQUMsYUFBVCxDQUF1QixPQUF2QixDQUFsQjtBQUNBLE1BQU0sY0FBYyxHQUFHLFFBQVEsQ0FBQyxhQUFULENBQXVCLFFBQXZCLENBQXZCO0FBQ0EsTUFBTSxVQUFVLEdBQUcsUUFBUSxDQUFDLGFBQVQsQ0FBdUIsY0FBdkIsQ0FBbkI7QUFFQSxNQUFNLFdBQVcsR0FBRztBQUNoQixFQUFBLFNBQVMsR0FBRztBQUVSLElBQUEsVUFBVSxDQUFDLFlBQVgsQ0FBd0IsT0FBeEIsRUFBaUMsV0FBakM7QUFFQSxVQUFNLFdBQVcsR0FBRyxRQUFRLENBQUMsYUFBVCxDQUF1QixTQUF2QixDQUFwQjtBQUNBLElBQUEsV0FBVyxDQUFDLFlBQVosQ0FBeUIsT0FBekIsRUFBa0MsZ0JBQWxDO0FBQ0EsSUFBQSxVQUFVLENBQUMsV0FBWCxDQUF1QixXQUF2QjtBQUNBLFVBQU0sVUFBVSxHQUFHLFFBQVEsQ0FBQyxhQUFULENBQXVCLElBQXZCLENBQW5CO0FBQ0EsSUFBQSxVQUFVLENBQUMsV0FBWCxHQUF5Qix1QkFBekI7QUFDQSxJQUFBLFdBQVcsQ0FBQyxXQUFaLENB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QUFDQSxJQUFBLG1CQUFtQixDQUFDLFdBQXBCLENBQWdDLFlBQWhDO0FBQ0Q7O0FBeEVzQixDQUF6QjtlQTBFZSxnQjs7Ozs7Ozs7Ozs7QUM3RWY7O0FBQ0E7Ozs7QUFFQSxNQUFNLFlBQVksR0FBRztBQUNqQixFQUFBLGFBQWEsR0FBRztBQUNaLGdDQUFtQixlQUFuQixHQUNDLElBREQsQ0FDTSxZQUFZLElBQUk7QUFFbEIsWUFBTSxtQkFBbUIsR0FBRyxRQUFRLENBQUMsYUFBVCxDQUF1QixLQUF2QixDQUE1QjtBQUdBLE1BQUEsWUFBWSxDQUFDLE9BQWIsQ0FBcUIsZ0JBQWdCLElBQUk7QUFDckMsUUFBQSxPQUFPLENBQUMsR0FBUixDQUFZLGdCQUFaOztBQUNBLGNBQU0sWUFBWSxHQUFHLGtCQUFTLGdCQUFULENBQTBCLGdCQUExQixDQUFyQjs7QUFDQSxRQUFBLG1CQUFtQixDQUFDLFdBQXBCLENBQWdDLFlBQWhDO0FBQ0gsT0FKRDtBQU1BLFlBQU0sYUFBYSxHQUFHLFFBQVEsQ0FBQyxhQUFULENBQXVCLFNBQXZCLENBQXRCOztBQUVBLGFBQU8sYUFBYSxDQUFDLFVBQXJCLEVBQWlDO0FBQzdCLFFBQUEsYUFBYSxDQUFDLFdBQWQsQ0FBMEIsYUFBYSxDQUFDLFVBQXhDO0FBQ0g7O0FBRUQsTUFBQSxhQUFhLENBQUMsV0FBZCxDQUEwQixtQkFBMUI7QUFDSCxLQW5CRDtBQW9CSDs7QUF0QmdCLENBQXJCO2VBMkJlLFk7Ozs7OztBQzlCZjs7QUFDQTs7OztBQUVBLHFCQUFZLFNBQVo7O0FBQ0Esc0JBQWEsYUFBYiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImltcG9ydCBpbnRlcmVzdENvbGxlY3Rpb24gZnJvbSBcIi4vaW50ZXJlc3RDb2xsZWN0aW9uXCJcbmltcG9ydCBpbnRlcmVzdExpc3QgZnJvbSBcIi4vaW50ZXJlc3RMaXN0XCJcblxuY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuY29uc3QgZGVzY3JpcHRpb25JbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbmNvbnN0IGNvc3RJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbmNvbnN0IHBsYWNlU2VsZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKTtcbmNvbnN0IG91dHB1dF9hcnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm0tb3V0cHV0XCIpO1xuXG5jb25zdCBmb3JtQnVpbGRlciA9IHtcbiAgICBidWlsZEZvcm0oKSB7XG5cbiAgICAgICAgb3V0cHV0X2FydC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNvbnRhaW5lclwiKVxuICAgICAgICBcbiAgICAgICAgY29uc3QgZm9ybUFydGljbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYXJ0aWNsZVwiKTtcbiAgICAgICAgZm9ybUFydGljbGUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJmb3JtLWNvbnRhaW5lclwiKVxuICAgICAgICBvdXRwdXRfYXJ0LmFwcGVuZENoaWxkKGZvcm1BcnRpY2xlKTtcbiAgICAgICAgY29uc3QgZm9ybUhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMlwiKTtcbiAgICAgICAgZm9ybUhlYWRlci50ZXh0Q29udGVudCA9IFwiQ3JlYXRlIGEgTmV3IEludGVyZXN0XCI7XG4gICAgICAgIGZvcm1BcnRpY2xlLmFwcGVuZENoaWxkKGZvcm1IZWFkZXIpOyBcbiAgICAgICAgXG4gICAgICAgIG5hbWVJbnB1dC5wbGFjZWhvbGRlciA9IFwiTmFtZVwiO1xuICAgICAgICBuYW1lSW5wdXQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJmb3JtLWNvbnRyb2xcIilcbiAgICAgICAgZm9ybUFydGljbGUuYXBwZW5kQ2hpbGQobmFtZUlucHV0KTtcbiAgICAgICAgXG4gICAgICAgIGRlc2NyaXB0aW9uSW5wdXQucGxhY2Vob2xkZXIgPSBcIkRlc2NyaXB0aW9uXCI7XG4gICAgICAgIGRlc2NyaXB0aW9uSW5wdXQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJmb3JtLWNvbnRyb2xcIilcbiAgICAgICAgZm9ybUFydGljbGUuYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb25JbnB1dCk7XG5cbiAgICAgICAgY29uc3QgY29zdFBsYWNlQWRkQXJ0aWNsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhcnRpY2xlXCIpO1xuICAgICAgICBmb3JtQXJ0aWNsZS5hcHBlbmRDaGlsZChjb3N0UGxhY2VBZGRBcnRpY2xlKTtcbiAgICAgICAgY29zdFBsYWNlQWRkQXJ0aWNsZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNvc3QtcGxhY2UtYWRkXCIpO1xuICAgICAgICBcbiAgICAgICAgY29zdElucHV0LnBsYWNlaG9sZGVyID0gXCJDb3N0XCI7XG4gICAgICAgIGNvc3RJbnB1dC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImZvcm0tY29udHJvbFwiKVxuICAgICAgICBjb3N0UGxhY2VBZGRBcnRpY2xlLmFwcGVuZENoaWxkKGNvc3RJbnB1dCk7XG5cbiAgICAgICAgaW50ZXJlc3RDb2xsZWN0aW9uLmdldEFsbFBsYWNlcygpXG4gICAgICAgIC50aGVuKHBsYWNlID0+IHtcblxuXG4gICAgICAgIFxuICAgICAgICBjb25zdCBsb25kb25PcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuICAgICAgICBsb25kb25PcHRpb24udGV4dENvbnRlbnQgPSBcIkxvbmRvblwiO1xuICAgICAgICBsb25kb25PcHRpb24uc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgYCR7cGxhY2VbMF0ubmFtZX1gKVxuICAgICAgICBjb25zdCBwYXJpc09wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gICAgICAgIHBhcmlzT3B0aW9uLnRleHRDb250ZW50ID0gXCJQYXJpc1wiO1xuICAgICAgICBwYXJpc09wdGlvbi5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBgJHtwbGFjZVsxXS5uYW1lfWApXG4gICAgICAgIGNvbnN0IGJlcmxpbk9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gICAgICAgIGJlcmxpbk9wdGlvbi50ZXh0Q29udGVudCA9IFwiQmVybGluXCI7XG4gICAgICAgIGJlcmxpbk9wdGlvbi5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBgJHtwbGFjZVsyXS5uYW1lfWApO1xuXG5cbiAgICAgICAgcGxhY2VTZWxlY3Rpb24uYXBwZW5kQ2hpbGQobG9uZG9uT3B0aW9uKTtcbiAgICAgICAgcGxhY2VTZWxlY3Rpb24uYXBwZW5kQ2hpbGQocGFyaXNPcHRpb24pO1xuICAgICAgICBwbGFjZVNlbGVjdGlvbi5hcHBlbmRDaGlsZChiZXJsaW5PcHRpb24pO1xuICAgICAgICBjb3N0UGxhY2VBZGRBcnRpY2xlLmFwcGVuZENoaWxkKHBsYWNlU2VsZWN0aW9uKTtcblxuICAgIFxuXG4gICAgICAgIFxuICAgICAgICBjb25zdCBhZGRJbnRlcmVzdEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICAgIGFkZEludGVyZXN0QnV0dG9uLnRleHRDb250ZW50ID0gXCJBZGRcIjtcbiAgICAgICAgYWRkSW50ZXJlc3RCdXR0b24uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJidG4gYnRuLXByaW1hcnlcIilcbiAgICAgICAgY29zdFBsYWNlQWRkQXJ0aWNsZS5hcHBlbmRDaGlsZChhZGRJbnRlcmVzdEJ1dHRvbik7XG5cbiAgICAgICAgYWRkSW50ZXJlc3RCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuYWRkQnV0dG9uRnVuY3Rpb24pO1xuXG4gICAgfSkgIFxuICAgIFxuICAgIH0sXG5cbiAgICBhZGRCdXR0b25GdW5jdGlvbigpIHtcbiAgICAgICAgbGV0IGludGVyZXN0T2JqID0ge1xuICAgICAgICAgICAgcGxhY2U6IHBsYWNlU2VsZWN0aW9uLnZhbHVlLFxuICAgICAgICAgICAgbmFtZTogbmFtZUlucHV0LnZhbHVlLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uSW5wdXQudmFsdWUsXG4gICAgICAgICAgICBjb3N0OiBjb3N0SW5wdXQudmFsdWUsXG4gICAgICAgICAgICByZXZpZXc6IFwiXCJcbiAgICAgICAgfVxuXG4gICAgICAgIGludGVyZXN0Q29sbGVjdGlvbi5wb3N0TmV3SW50ZXJlc3QoaW50ZXJlc3RPYmopXG4gICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgIGludGVyZXN0TGlzdC5saXN0SW50ZXJlc3RzKCk7XG4gICAgICAgIH0pXG5cbiAgICAgICAgbmFtZUlucHV0LnZhbHVlID0gXCJcIjtcbiAgICAgICAgZGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IFwiXCI7XG4gICAgICAgIGNvc3RJbnB1dC52YWx1ZSA9IFwiXCI7XG4gICAgICAgIFxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZm9ybUJ1aWxkZXJcbiIsImltcG9ydCBpbnRlcmVzdENvbGxlY3QgZnJvbSBcIi4vaW50ZXJlc3RDb2xsZWN0aW9uXCJcbmltcG9ydCBpbnRlcmVzdExpc3QgZnJvbSBcIi4vaW50ZXJlc3RMaXN0XCI7XG5pbXBvcnQgaW50ZXJlc3RDb2xsZWN0aW9uIGZyb20gXCIuL2ludGVyZXN0Q29sbGVjdGlvblwiO1xuaW1wb3J0IGludGVyZXN0RWRpdEZvcm0gZnJvbSBcIi4vaW50ZXJlc3RFZGl0Rm9ybVwiO1xuXG5jb25zdCBpbnRlcmVzdCA9IHtcbiAgICBtYWtlSW50ZXJlc3RIVE1MKGludGVyZXN0T2JqKSB7XG4gICAgICAgIGNvbnN0IGludGVyZXN0TGlzdE91dHB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhcnRpY2xlXCIpXG4gICAgICAgIGludGVyZXN0TGlzdE91dHB1dC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBgaW50ZXJlc3QtLSR7aW50ZXJlc3RPYmouaWR9YClcbiAgICAgICAgaW50ZXJlc3RMaXN0T3V0cHV0LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY29udGFpbmVyXCIpXG4gICAgICAgIGludGVyZXN0TGlzdE91dHB1dC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImludGVyZXN0LWNvbnRhaW5lclwiKVxuXG4gICAgICAgIFxuXG4gICAgICAgIGNvbnN0IHBsYWNlSGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgzXCIpO1xuICAgICAgICBwbGFjZUhlYWRlci50ZXh0Q29udGVudCA9IGAke2ludGVyZXN0T2JqLnBsYWNlfWA7XG4gICAgICAgIGludGVyZXN0TGlzdE91dHB1dC5hcHBlbmRDaGlsZChwbGFjZUhlYWRlcik7XG4gICAgICAgIGNvbnN0IG5hbWVIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDRcIik7XG4gICAgICAgIG5hbWVIZWFkZXIudGV4dENvbnRlbnQgPSBgJHtpbnRlcmVzdE9iai5uYW1lfWA7XG4gICAgICAgIGludGVyZXN0TGlzdE91dHB1dC5hcHBlbmRDaGlsZChuYW1lSGVhZGVyKTtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb25QYXJhZ3JhcGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgICAgZGVzY3JpcHRpb25QYXJhZ3JhcGgudGV4dENvbnRlbnQgPSBgJHtpbnRlcmVzdE9iai5kZXNjcmlwdGlvbn1gO1xuICAgICAgICBpbnRlcmVzdExpc3RPdXRwdXQuYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb25QYXJhZ3JhcGgpO1xuICAgICAgICBjb25zdCBjb3N0SGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlY3Rpb25cIik7XG4gICAgICAgIGNvc3RIZWFkZXIudGV4dENvbnRlbnQgPSBcIkNvc3Q6XCI7XG4gICAgICAgIGNvc3RIZWFkZXIuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjb3N0LWhlYWRlclwiKTtcbiAgICAgICAgaW50ZXJlc3RMaXN0T3V0cHV0LmFwcGVuZENoaWxkKGNvc3RIZWFkZXIpO1xuICAgICAgICBjb25zdCBjb3N0UGFyYWdyYXBoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICAgIGNvc3RQYXJhZ3JhcGgudGV4dENvbnRlbnQgPSBgJHtpbnRlcmVzdE9iai5jb3N0fWA7XG4gICAgICAgIGludGVyZXN0TGlzdE91dHB1dC5hcHBlbmRDaGlsZChjb3N0UGFyYWdyYXBoKTtcbiAgICAgICAgY29uc3QgcmV2aWV3SGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlY3Rpb25cIik7XG4gICAgICAgIHJldmlld0hlYWRlci50ZXh0Q29udGVudCA9IFwiUmV2aWV3OlwiO1xuICAgICAgICByZXZpZXdIZWFkZXIuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJyZXZpZXctaGVhZGVyXCIpO1xuICAgICAgICBpbnRlcmVzdExpc3RPdXRwdXQuYXBwZW5kQ2hpbGQocmV2aWV3SGVhZGVyKTtcbiAgICAgICAgY29uc3QgcmV2aWV3UGFyYWdyYXBoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICAgIHJldmlld1BhcmFncmFwaC50ZXh0Q29udGVudCA9IGAke2ludGVyZXN0T2JqLnJldmlld31gO1xuICAgICAgICBpbnRlcmVzdExpc3RPdXRwdXQuYXBwZW5kQ2hpbGQocmV2aWV3UGFyYWdyYXBoKTtcblxuXG5cbiAgICAgICAgY29uc3QgZWRpdEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICAgIGVkaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIkVkaXQgQ29zdCAtIEFkZCBSZXZpZXdcIjtcbiAgICAgICAgaW50ZXJlc3RMaXN0T3V0cHV0LmFwcGVuZENoaWxkKGVkaXRCdXR0b24pO1xuICAgICAgICBlZGl0QnV0dG9uLnNldEF0dHJpYnV0ZShcImlkXCIsIGBpbnRlcmVzdC0tJHtpbnRlcmVzdE9iai5pZH1gKTtcbiAgICAgICAgZWRpdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImJ0biBidG4tcHJpbWFyeVwiKVxuICAgICAgICBlZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIGxldCBhcnRpY2xlSWQgPSBldmVudC50YXJnZXQucGFyZW50Tm9kZS5pZFxuICAgICAgICBsZXQgaW50ZXJlc3RJZCA9IGV2ZW50LnRhcmdldC5pZC5zcGxpdChcIi0tXCIpWzFdXG4gICAgICAgICAgY29uc29sZS5sb2coaW50ZXJlc3RJZClcbiAgICAgICAgICBpbnRlcmVzdENvbGxlY3Rpb24uZ2V0SW50ZXJlc3QoaW50ZXJlc3RJZClcbiAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICBpbnRlcmVzdEVkaXRGb3JtLmNyZWF0ZUFuZEFwcGVuZEZvcm0oYXJ0aWNsZUlkLCByZXNwb25zZSlcbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuXG5cblxuICAgICAgICBjb25zdCBkZWxldGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICBkZWxldGVCdXR0b24udGV4dENvbnRlbnQgPSBcIkRlbGV0ZVwiO1xuICAgICAgICBpbnRlcmVzdExpc3RPdXRwdXQuYXBwZW5kQ2hpbGQoZGVsZXRlQnV0dG9uKTtcbiAgICAgICAgZGVsZXRlQnV0dG9uLnNldEF0dHJpYnV0ZShcImlkXCIsIGBpbnRlcmVzdC0tJHtpbnRlcmVzdE9iai5pZH1gKTtcbiAgICAgICAgZGVsZXRlQnV0dG9uLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiYnRuIGJ0bi1wcmltYXJ5XCIpXG4gICAgICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBsZXQgZGVsZXRlQ29uZmlybWF0aW9uID0gY29uZmlybShgQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSAke2ludGVyZXN0T2JqLm5hbWV9IGluICR7aW50ZXJlc3RPYmoucGxhY2V9ID9gKTtcbiAgICAgICAgaWYgKGRlbGV0ZUNvbmZpcm1hdGlvbiA9PSB0cnVlKSB7XG4gICAgICAgIGxldCBpbnRlcmVzdElkID0gZXZlbnQudGFyZ2V0LmlkLnNwbGl0KFwiLS1cIilbMV1cbiAgICAgICAgY29uc29sZS5sb2coaW50ZXJlc3RJZCk7XG4gICAgICAgIGludGVyZXN0Q29sbGVjdC5kZWxldGVJbnRlcmVzdChpbnRlcmVzdElkKVxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgIGludGVyZXN0TGlzdC5saXN0SW50ZXJlc3RzKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgXG5cblxuXG5cbiAgICAgICAgcmV0dXJuIGludGVyZXN0TGlzdE91dHB1dFxuICAgIFxuICAgIH1cbn1cblxuXG5leHBvcnQgZGVmYXVsdCBpbnRlcmVzdCIsImNvbnN0IGludGVyZXN0Q29sbGVjdGlvbiA9IHtcbiAgXG4gICAgZ2V0QWxsSW50ZXJlc3RzKCkge1xuICAgICAgcmV0dXJuIGZldGNoKFwiaHR0cDovL2xvY2FsaG9zdDo4MDg4L2ludGVyZXN0c1wiKVxuICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxuICAgIH0sXG5cbiAgICBnZXRBbGxQbGFjZXMoKSB7XG4gICAgICByZXR1cm4gZmV0Y2goXCJodHRwOi8vbG9jYWxob3N0OjgwODgvcGxhY2VzXCIpXG4gICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgfSxcblxuICAgIHBvc3ROZXdJbnRlcmVzdChuZXdJbnRlcmVzdFRvU2F2ZSkge1xuICAgICAgcmV0dXJuIGZldGNoKFwiaHR0cDovL2xvY2FsaG9zdDo4MDg4L2ludGVyZXN0c1wiLCB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KG5ld0ludGVyZXN0VG9TYXZlKVxuICAgICAgfSlcbiAgICB9LFxuICAgXG4gICAgZGVsZXRlSW50ZXJlc3QoaW50ZXJlc3RJZCkge1xuICAgICAgcmV0dXJuIGZldGNoKGBodHRwOi8vbG9jYWxob3N0OjgwODgvaW50ZXJlc3RzLyR7aW50ZXJlc3RJZH1gLCB7XG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9LFxuICAgIFxuICAgIHB1dEV4aXN0aW5nSW50ZXJlc3QoaW50ZXJlc3RJZCwgaW50ZXJlc3RUb0VkaXQpIHtcbiAgICAgIHJldHVybiBmZXRjaChgaHR0cDovL2xvY2FsaG9zdDo4MDg4L2ludGVyZXN0cy8ke2ludGVyZXN0SWR9YCwge1xuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGludGVyZXN0VG9FZGl0KVxuICAgICAgfSlcbiAgICB9LFxuICAgIGdldEludGVyZXN0KGludGVyZXN0SWQpIHtcbiAgICAgIHJldHVybiBmZXRjaChgaHR0cDovL2xvY2FsaG9zdDo4MDg4L2ludGVyZXN0cy8ke2ludGVyZXN0SWR9YClcbiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICB9LFxuICB9XG5cbiAgZXhwb3J0IGRlZmF1bHQgaW50ZXJlc3RDb2xsZWN0aW9uXG5cblxuICBcbiIsImltcG9ydCBpbnRlcmVzdENvbGxlY3Rpb24gZnJvbSBcIi4vaW50ZXJlc3RDb2xsZWN0aW9uXCI7XG5pbXBvcnQgaW50ZXJlc3RMaXN0IGZyb20gXCIuL2ludGVyZXN0TGlzdFwiO1xuXG5jb25zdCBpbnRlcmVzdEVkaXRGb3JtID0ge1xuICBjcmVhdGVBbmRBcHBlbmRGb3JtIChpbnRlcmVzdElkLCBpbnRlcmVzdE9ialRvRWRpdCkge1xuXG4gICAgXG4gICAgbGV0IGludGVyZXN0Q29zdEZpZWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIilcblxuICAgIGxldCBjb3N0TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIilcbiAgICBjb3N0TGFiZWwudGV4dENvbnRlbnQgPSBcIkNvc3RcIlxuICAgIGxldCBjb3N0SW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIilcbiAgICBjb3N0SW5wdXQudmFsdWUgPSBpbnRlcmVzdE9ialRvRWRpdC5jb3N0XG5cbiAgICBpbnRlcmVzdENvc3RGaWVsZC5hcHBlbmRDaGlsZChjb3N0TGFiZWwpO1xuICAgIGludGVyZXN0Q29zdEZpZWxkLmFwcGVuZENoaWxkKGNvc3RJbnB1dCk7XG5cbiAgICBsZXQgaW50ZXJlc3RSZXZpZXdGaWVsZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpXG5cbiAgICBsZXQgcmV2aWV3TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIilcbiAgICByZXZpZXdMYWJlbC50ZXh0Q29udGVudCA9IFwiUmV2aWV3XCJcbiAgICBsZXQgcmV2aWV3SW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIilcbiAgICByZXZpZXdJbnB1dC52YWx1ZSA9IGludGVyZXN0T2JqVG9FZGl0LnJldmlld1xuXG4gICAgaW50ZXJlc3RSZXZpZXdGaWVsZC5hcHBlbmRDaGlsZChyZXZpZXdMYWJlbCk7XG4gICAgaW50ZXJlc3RSZXZpZXdGaWVsZC5hcHBlbmRDaGlsZChyZXZpZXdJbnB1dCk7XG5cblxuICAgIGxldCB1cGRhdGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpXG4gICAgdXBkYXRlQnV0dG9uLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiYnRuIGJ0bi1wcmltYXJ5XCIpO1xuICAgIHVwZGF0ZUJ1dHRvbi50ZXh0Q29udGVudCA9IFwiVXBkYXRlXCJcbiAgICB1cGRhdGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIFxuICAgXG5cbiAgIFxuICAgIFxuICAgIGxldCBlZGl0dGVkSW50ZXJlc3QgPSB7XG4gICAgICAgIHBsYWNlOiBpbnRlcmVzdE9ialRvRWRpdC5wbGFjZSxcbiAgICAgICAgbmFtZTogaW50ZXJlc3RPYmpUb0VkaXQubmFtZSxcbiAgICAgICAgZGVzY3JpcHRpb246IGludGVyZXN0T2JqVG9FZGl0LmRlc2NyaXB0aW9uLFxuICAgICAgICBjb3N0OiBjb3N0SW5wdXQudmFsdWUsXG4gICAgICAgIHJldmlldzogcmV2aWV3SW5wdXQudmFsdWVcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhlZGl0dGVkSW50ZXJlc3QpO1xuICBcblxuXG4gICAgaW50ZXJlc3RDb2xsZWN0aW9uLnB1dEV4aXN0aW5nSW50ZXJlc3QoaW50ZXJlc3RPYmpUb0VkaXQuaWQgLGVkaXR0ZWRJbnRlcmVzdClcbiAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgIGludGVyZXN0TGlzdC5saXN0SW50ZXJlc3RzKCk7XG4gICAgfSlcblxuICB9KVxuICAgIFxuXG4gICAgIFxuICAgICAgXG4gICAgXG5cbiAgICBcblxuICAgIFxuICAgIGxldCBpbnRlcmVzdEl0ZW1BcnRpY2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7aW50ZXJlc3RJZH1gKVxuXG4gIC8vICBUSElTIEZVTkNUSU9OIFdPVUxEIENMRUFSIFRIRSBET00gT0YgVEhFIEVYSVNUSU5HIElOVEVSRVNUIFdISUxFIEVESVRUSU5HLi4uSSBUSElOSyBJVCBJUyBCRVRURVIgVE8gVklFVyBFWElTVElORyBJTlRFUkVTVCBXSElMRSBFRElUSU5HXG4gICAgLy8gd2hpbGUgKGludGVyZXN0SXRlbUFydGljbGUuZmlyc3RDaGlsZCkge1xuICAgIC8vICAgaW50ZXJlc3RJdGVtQXJ0aWNsZS5yZW1vdmVDaGlsZChpbnRlcmVzdEl0ZW1BcnRpY2xlLmZpcnN0Q2hpbGQpO1xuICAgIC8vIH1cblxuXG4gICAgaW50ZXJlc3RJdGVtQXJ0aWNsZS5hcHBlbmRDaGlsZChpbnRlcmVzdENvc3RGaWVsZClcbiAgICBpbnRlcmVzdEl0ZW1BcnRpY2xlLmFwcGVuZENoaWxkKGludGVyZXN0UmV2aWV3RmllbGQpXG4gICAgaW50ZXJlc3RJdGVtQXJ0aWNsZS5hcHBlbmRDaGlsZCh1cGRhdGVCdXR0b24pXG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IGludGVyZXN0RWRpdEZvcm1cbiIsImltcG9ydCBpbnRlcmVzdENvbGxlY3Rpb24gZnJvbSBcIi4vaW50ZXJlc3RDb2xsZWN0aW9uXCJcbmltcG9ydCBpbnRlcmVzdCBmcm9tIFwiLi9pbnRlcmVzdFwiXG5cbmNvbnN0IGludGVyZXN0TGlzdCA9IHtcbiAgICBsaXN0SW50ZXJlc3RzKCkge1xuICAgICAgICBpbnRlcmVzdENvbGxlY3Rpb24uZ2V0QWxsSW50ZXJlc3RzKClcbiAgICAgICAgLnRoZW4oYWxsSW50ZXJlc3RzID0+IHtcblxuICAgICAgICAgICAgY29uc3QgaW50ZXJlc3REb2NGcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICBcbiAgICAgICAgICAgIGFsbEludGVyZXN0cy5mb3JFYWNoKGludGVyZXN0SW5zdGFuY2UgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGludGVyZXN0SW5zdGFuY2UpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGludGVyZXN0SHRtbCA9IGludGVyZXN0Lm1ha2VJbnRlcmVzdEhUTUwoaW50ZXJlc3RJbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgaW50ZXJlc3REb2NGcmFnbWVudC5hcHBlbmRDaGlsZChpbnRlcmVzdEh0bWwpO1xuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgY29uc3Qgb3V0cHV0QXJ0aWNsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIub3V0cHV0XCIpO1xuXG4gICAgICAgICAgICB3aGlsZSAob3V0cHV0QXJ0aWNsZS5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0QXJ0aWNsZS5yZW1vdmVDaGlsZChvdXRwdXRBcnRpY2xlLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvdXRwdXRBcnRpY2xlLmFwcGVuZENoaWxkKGludGVyZXN0RG9jRnJhZ21lbnQpO1xuICAgICAgICB9KVxuICAgIH1cbn1cblxuXG5cbmV4cG9ydCBkZWZhdWx0IGludGVyZXN0TGlzdCIsImltcG9ydCBmb3JtQnVpbGRlciBmcm9tIFwiLi9mb3JtQnVpbGRlclwiXG5pbXBvcnQgaW50ZXJlc3RMaXN0IGZyb20gXCIuL2ludGVyZXN0TGlzdFwiXG5cbmZvcm1CdWlsZGVyLmJ1aWxkRm9ybSgpO1xuaW50ZXJlc3RMaXN0Lmxpc3RJbnRlcmVzdHMoKTtcblxuXG5cbiJdfQ==
